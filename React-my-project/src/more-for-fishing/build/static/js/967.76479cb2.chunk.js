"use strict";(self.webpackChunkmore_for_fishing=self.webpackChunkmore_for_fishing||[]).push([[967],{3967:function(n,e,t){t.r(e),t.d(e,{default:function(){return b}});var r=t(885),s=t(3504),c=t(2791),u=t(8214),i=t(5861),a=t(4831),o=t(978),l=a.N.apiUserUrl,f=function(){var n=(0,i.Z)((0,u.Z)().mark((function n(){return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.U2(l);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),d=function(){var n=(0,i.Z)((0,u.Z)().mark((function n(e){return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.IV("".concat(l,"/").concat(e,"?soft=true"),{});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=(0,i.Z)((0,u.Z)().mark((function n(e){return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.v_("".concat(l,"/").concat(e,"/_restore"),{});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=t(5985),m=t(364),x=t(3766),v=t(184),b=function(){var n=(0,c.useState)([]),e=(0,r.Z)(n,2),t=e[0],u=e[1],i=(0,c.useState)(!0),a=(0,r.Z)(i,2),o=a[0],l=a[1],b=(0,c.useState)(1),j=(0,r.Z)(b,2),_=j[0],k=j[1],Z=(0,c.useState)(3),g=(0,r.Z)(Z,1)[0],N=_*g,w=N-g,S=t.slice(w,N);(0,c.useEffect)((function(){f().then((function(n){u(n)})).then((function(n){l(!1)})).catch((function(n){p.Am.error(n)}))}),[]);return(0,v.jsxs)("div",{className:"container admin-container",children:[(0,v.jsx)("h3",{children:"Admin panel - User management"}),(0,v.jsx)("ul",{className:"list-group",children:o?(0,v.jsx)(m.g,{}):S.map((function(n){return(0,v.jsxs)("li",{className:"list-group-item",children:[(0,v.jsx)("h5",{children:n.username}),void 0!==n._kmd.status?(0,v.jsxs)("p",{children:[" ",(0,v.jsx)("i",{className:"fas fa-ban"}),"Suspended"]}):null,void 0!==n._kmd.roles&&0!==n._kmd.roles.length?(0,v.jsxs)("p",{children:[" ",(0,v.jsx)("i",{className:"fas fa-user-shield"}),"Admin"]}):null,(0,v.jsxs)("div",{id:"buttons",children:[void 0===n._kmd.status?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(s.rU,{to:"/user/profile/".concat(n._id),className:"btn btn-info",children:"Profile details"}),"\xa0",(0,v.jsx)(s.rU,{className:"btn btn-success",to:"/user/profile/edit/".concat(n._id),children:"Update profile"}),"\xa0",void 0===n._kmd.roles?(0,v.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return e=n._id,void d(e).then((function(){p.Am.success("Successfully suspended user!")})).then((function(){f().then((function(n){u(n)}))})).catch((function(n){p.Am.error(n)}));var e},children:"Suspend profile"}):null]}):null,void 0!==n._kmd.status?(0,v.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){return e=n._id,void h(e).then((function(){p.Am.success("Successfully restored user!")})).then((function(){f().then((function(n){u(n)}))})).catch((function(n){p.Am.error(n)}));var e},children:"Restore user"}):null]}),(0,v.jsx)("hr",{})]},n._id)}))}),(0,v.jsx)(x.t,{itemsPerPage:g,totalItems:t.length,paginate:function(n){return k(n)}})]})}}}]);
//# sourceMappingURL=967.76479cb2.chunk.js.map